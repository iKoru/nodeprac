var express = require('express');
var app = express();
//app.put('/message/:id', function(req, res){
//	res.end(require('crypto').createHash('sha1').update(new Date().toDateString() + req.params.id).digest('hex'));
//});
app.param('id', function(req, res, next, id){
	req.id = id;
	console.log('first');
//	next();
	console.log('melong');
	res.end('dd');
});
app.get('/message/:id', function(req, res, next){
	console.log(req.id);
	console.log('second');
	next();
});
app.put('/message/:id', function(req, res, next){
	console.log('third');
	res.end(require('crypto').createHash('sha1').update(new Date().toDateString() + req.id).digest('hex'));
	});
app.listen(process.argv[2]);
